{"version":3,"sources":["kensho.js"],"names":["Kensho","formElement","isInitialize","init","instanceList","undefined","push","document","querySelector","rule","plugin","hook","Hook","_","Map","set","Object","create","defineProperty","enumerable","get","inputs","config","setAttribute","classList","add","action","parserList","querySelectorAll","Array","from","filter","html","i","getAttribute","match","map","data","parser","parse","inputElement","errorElement","event","isArray","split","name","tagName","toLowerCase","type","_rule","key","param","errorMessage","unit","inputTagName","error","forEach","input","validate","addEventListener","e","console","log","hasError","result","length","allValidate","keys","applyRules","verbose","wrapTag","errorClassName","value","innerHTML","remove","call","message","createTextNode","nodeValue","replace","join","l","dependency","check","_c","errorMessageWrapper","autocomplete","HTML5novalidate","val","_k","_get","self","actions","filters","hookName","callbackName","callback","priority","hooks","newHook","splice","typeName","thisObject","listener","ruleBook","_list","initialized","trimFlg","trim","is2byte","is1byte","allow2byteFlg","allow2byte","full2half","test","maxAge","maxAage","re","list","min","max","maps","assign","s","addMap","userMap","isNbyte","half","code","charCodeAt","f","process","require","module","exports","window"],"mappings":";;;;AAAA;;;;IAIMA,M;AACJ;;;;;;AAMA,kBAAYC,WAAZ,EAAwB;AAAA;;AACtB,QAAG,CAACD,OAAOE,YAAP,EAAJ,EAA2BF,OAAOG,IAAP;;AAE3B,QAAGH,OAAOI,YAAP,KAAwBC,SAA3B,EAAsCL,OAAOI,YAAP,GAAsB,CAAC,IAAD,CAAtB,CAAtC,KACKJ,OAAOI,YAAP,CAAoBE,IAApB,CAAyB,IAAzB;;AAELL,kBAAc,OAAOA,WAAP,KAAuB,QAAvB,GAAkCM,SAASC,aAAT,CAAuBP,WAAvB,CAAlC,GAAwEA,WAAtF;;AAEA;;;;;AAKA,SAAKA,WAAL,GAAmBA,WAAnB;AACA;;;;;AAKA,SAAKQ,IAAL,GAAYT,OAAOS,IAAnB;AACA;;;;;AAKA,SAAKC,MAAL,GAAcV,OAAOU,MAArB;AACA;;;;;AAKA,SAAKC,IAAL,GAAY,IAAIX,OAAOY,IAAX,EAAZ;;AAEA;AACA,SAAKC,CAAL,GAAS,IAAIC,GAAJ,EAAT;AACA,SAAKD,CAAL,CAAOE,GAAP,CAAW,IAAX,EAAiBC,OAAOC,MAAP,CAAc,IAAd,CAAjB;AACAD,WAAOE,cAAP,CAAsB,IAAtB,EAA4B,GAA5B,EAAiC,EAAEC,YAAa,KAAf,EAAjC;AACA,QAAIN,IAAI,KAAKA,CAAL,CAAOO,GAAP,CAAW,IAAX,CAAR;AACAP,MAAEQ,MAAF,GAAW,EAAX;;AAEA;AACA;AACA,QAAGrB,OAAOsB,MAAP,CAAcF,GAAd,CAAkB,cAAlB,CAAH,EACEnB,YAAYsB,YAAZ,CAAyB,cAAzB,EAAyC,KAAzC;;AAEFtB,gBAAYuB,SAAZ,CAAsBC,GAAtB,CAA0B,aAA1B;;AAEA,SAAKd,IAAL,CAAUe,MAAV,CAAiB,MAAjB,EAAyB,EAAzB,EAA6B,IAA7B;;AAEA;AACA,QAAIC,aAAa1B,YAAY2B,gBAAZ,CAA6B,gBAA7B,CAAjB;AACA,QAAGD,UAAH,EAAc;AACZA,mBAAaE,MAAMC,IAAN,CAAWH,UAAX,CAAb;AACAA,mBAAaA,WAAWI,MAAX,CAAkB,UAACC,IAAD,EAAOC,CAAP;AAAA,eAAY,CAACD,KAAKE,YAAL,CAAkB,aAAlB,EAAiCC,KAAjC,CAAuC,UAAvC,CAAD,GAAsD,IAAtD,GAA6D,KAAzE;AAAA,OAAlB,CAAb;AACAR,iBAAWS,GAAX,CAAe,UAACJ,IAAD,EAAOC,CAAP,EAAW;AACxB,YAAII,OAAOrC,OAAOsC,MAAP,CAAcC,KAAd,CAAoBtC,WAApB,EAAiC+B,IAAjC,CAAX;AACD,OAFD;AAGD;AACF;AACD;;;;;;;;;;;;;;;;;;;;;;;;;mBAuBAP,G,gBAAIe,Y,EAAcC,Y,EAAchC,I,EAAmB;AAAA;;AAAA,QAAbiC,KAAa,uEAAL,CAAC,EAAD,CAAK;;;AAEjD;AACA;AACA;AACA;AACAF,mBAAe,OAAOA,YAAP,KAAwB,QAAxB,GAAmCjC,SAASqB,gBAAT,CAA0BY,YAA1B,CAAnC,GAA6EX,MAAMc,OAAN,CAAcH,YAAd,IAA8BA,YAA9B,GAA6C,CAACA,YAAD,CAAzI;AACAC,mBAAe,OAAOA,YAAP,KAAwB,QAAxB,GAAmClC,SAASC,aAAT,CAAuBiC,YAAvB,CAAnC,GAA0EA,YAAzF;AACAC,YAAe,OAAOA,KAAP,KAAwB,QAAxB,GAAmCA,MAAME,KAAN,CAAY,GAAZ,CAAnC,GAAsDF,KAArE;;AAEA,QAAI7B,IAAU,KAAKA,CAAL,CAAOO,GAAP,CAAW,IAAX,CAAd;AACA,QAAIyB,OAAUL,aAAa,CAAb,EAAgBN,YAAhB,CAA6B,MAA7B,CAAd;AACA,QAAIY,UAAUN,aAAa,CAAb,EAAgBM,OAAhB,CAAwBC,WAAxB,EAAd;AACA,QAAIC,OAAU,IAAd;AACA,QAAGF,YAAY,OAAf,EAAwBE,OAAOR,aAAa,CAAb,EAAgBN,YAAhB,CAA6B,MAA7B,CAAP,CAAxB,KACKc,OAAOF,OAAP;;AAEL;AACA,YAAOE,IAAP;AACE,WAAK,UAAL;AACEA,eAAO,MAAP;AACA;AACF,WAAK,QAAL;AACEA,eAAO,MAAP;AACA;AACF,WAAK,KAAL;AACEA,eAAO,MAAP;AACA;AACF,WAAK,OAAL;AACEA,eAAO,MAAP;AACA;AACF,WAAK,KAAL;AACEA,eAAO,MAAP;AACA;AAfJ;;AAkBA,QAAGA,SAAS,OAAZ,EAAqBR,eAAeA,aAAa,CAAb,CAAf;;AAErB,QAAIS,QAAQ,EAAZ;AACA,SAAI,IAAIC,GAAR,IAAezC,IAAf,EAAoB;AAClB,UAAG,OAAOA,KAAKyC,GAAL,CAAP,KAAqB,QAAxB,EAAiC;AAC/BD,cAAMC,GAAN,IAAa;AACXC,iBAAe,EADJ;AAEXC,wBAAe3C,KAAKyC,GAAL;AAFJ,SAAb;AAID,OALD,MAKK;AACHD,cAAMC,GAAN,IAAazC,KAAKyC,GAAL,CAAb;AACD;AACF;AACDzC,WAAOwC,KAAP;;AAEA,QAAII,OAAO;AACTR,YAAeA,IADN;AAETL,oBAAeA,YAFN;AAGTC,oBAAeA,YAHN;AAITa,oBAAeR,OAJN;AAKTE,YAAeA,IALN;AAMTvC,YAAeA,IANN;AAOT8C,aAAe;AAPN,KAAX;;AAUAF,WAAO,KAAK1C,IAAL,CAAUoB,MAAV,CAAiB,gBAAjB,EAAmCsB,IAAnC,EAAyC,IAAzC,CAAP;AACAxC,MAAEQ,MAAF,CAASwB,IAAT,IAAiBQ,IAAjB;;AAEA;AACAX,UAAMc,OAAN,CAAc,UAACX,IAAD,EAAOZ,CAAP,EAAW;AACvB,UAAGY,SAAS,MAAZ,EAAmB;AACjB,YAAGQ,KAAKL,IAAL,KAAc,OAAjB,EAAyB;AACvBK,eAAKb,YAAL,CAAkBgB,OAAlB,CAA0B,UAACC,KAAD,EAAQxB,CAAR,EAAY;AACpC,kBAAKyB,QAAL,CAAcL,KAAKR,IAAnB;AACD,WAFD;AAGD,SAJD,MAIK;AACH,gBAAKa,QAAL,CAAcL,KAAKR,IAAnB;AACD;AACF,OARD,MAQK;AACH,YAAGQ,KAAKL,IAAL,KAAc,OAAjB,EAAyB;AACvBK,eAAKb,YAAL,CAAkBgB,OAAlB,CAA0B,UAACC,KAAD,EAAQxB,CAAR,EAAY;AACpCwB,kBAAME,gBAAN,CAAuBd,IAAvB,EAA6B,YAAI;AAC/B,oBAAKa,QAAL,CAAcL,KAAKR,IAAnB;AACD,aAFD;AAGD,WAJD;AAKD,SAND,MAMK;AACHQ,eAAKb,YAAL,CAAkBmB,gBAAlB,CAAmCd,IAAnC,EAAyC,YAAI;AAC3C,kBAAKa,QAAL,CAAcL,KAAKR,IAAnB;AACD,WAFD;AAGD;AACF;AACF,KAtBD;;AAwBA;AACA,QAAGL,aAAaN,YAAb,CAA0B,MAA1B,MAAsC,OAAzC,EAAiD;AAC/CM,mBAAamB,gBAAb,CAA8B,QAA9B,EAAwC,UAASC,CAAT,EAAW;AACjD;AACAC,gBAAQC,GAAR,CAAYF,CAAZ;AACD,OAHD;AAID;;AAED,SAAKjD,IAAL,CAAUe,MAAV,CAAiB,oBAAjB,EAAuC,EAAC2B,MAAOA,IAAR,EAAvC,EAAsD,IAAtD;AACA,WAAO,IAAP;AACD,G;AACD;;;;;;;;;;mBAQAU,Q,uBAAU;AACR,QAAIlD,IAAS,KAAKA,CAAL,CAAOO,GAAP,CAAW,IAAX,CAAb;AACA,QAAI4C,SAAS,KAAb;AACA,SAAI,IAAId,GAAR,IAAerC,EAAEQ,MAAjB,EAAwB;AACtB,UAAGR,EAAEQ,MAAF,CAAS6B,GAAT,EAAcK,KAAd,CAAoBU,MAApB,KAA+B,CAAlC,EAAoC;AAClCD,iBAAS,IAAT;AACA;AACD;AACF;AACD,WAAOA,MAAP;AACD,G;AACD;;;;;;;;;;mBAQAE,W,0BAAa;AAAA;;AACX,QAAIrD,IAAI,KAAKA,CAAL,CAAOO,GAAP,CAAW,IAAX,CAAR;AACAJ,WAAOmD,IAAP,CAAYtD,EAAEQ,MAAd,EAAsBe,GAAtB,CAA0B,UAACc,GAAD,EAAMjB,CAAN,EAAU;AAClC,aAAKyB,QAAL,CAAcR,GAAd;AACD,KAFD;AAGD,G;AACD;;;;;;;;;;;;mBAUAQ,Q,qBAASb,I,EAAK;AACZ,QAAIhC,IAAiB,KAAKA,CAAL,CAAOO,GAAP,CAAW,IAAX,CAArB;AACA,QAAIiC,OAAiBxC,EAAEQ,MAAF,CAASwB,IAAT,CAArB;AACA,QAAIuB,aAAiBf,KAAK5C,IAA1B;AACA,QAAI4D,UAAiBrE,OAAOsB,MAAP,CAAcF,GAAd,CAAkB,SAAlB,CAArB;AACA,QAAIkD,UAAiBtE,OAAOsB,MAAP,CAAcF,GAAd,CAAkB,qBAAlB,CAArB;AACA,QAAImD,iBAAiBvE,OAAOsB,MAAP,CAAcF,GAAd,CAAkB,gBAAlB,CAArB;;AAEA,QAAGiC,KAAKL,IAAL,KAAc,MAAjB,EAAwB;AACtBwB,cAAQnB,KAAKb,YAAL,CAAkBgC,KAA1B;AACD,KAFD,MAEK;AACHA,cAAQ,KAAKvE,WAAL,CAAiBoD,KAAKR,IAAtB,IAA8B,KAAK5C,WAAL,CAAiBoD,KAAKR,IAAtB,CAA9B,GAA4D2B,KAApE;AACD;AACD,QAAGnB,KAAKL,IAAL,KAAc,UAAjB,EAA4B;AAC1B;AACD;;AAEDK,SAAKZ,YAAL,CAAkBgC,SAAlB,GAA8B,EAA9B;AACApB,SAAKZ,YAAL,CAAkBjB,SAAlB,CAA4BkD,MAA5B,CAAmCH,cAAnC;AACAlB,SAAKE,KAAL,GAA8B,EAA9B;AACA;AACAF,SAAKb,YAAL,CAAkBhB,SAAlB,CAA4BkD,MAA5B,CAAmC,SAAnC;AACArB,SAAKb,YAAL,CAAkBhB,SAAlB,CAA4BkD,MAA5B,CAAmC,OAAnC;;AAEAF,YAAQ,KAAK7D,IAAL,CAAUoB,MAAV,CAAiB,oBAAjB,EAAuCyC,KAAvC,EAA8C,IAA9C,CAAR;;AAEA,SAAI,IAAItB,GAAR,IAAekB,UAAf,EAA0B;AACxB,UAAIJ,SAAShE,OAAO0D,QAAP,CAAgBiB,IAAhB,CAAqB,IAArB,EAA2BzB,GAA3B,EAAgCsB,KAAhC,EAAuCJ,WAAWlB,GAAX,EAAgBC,KAAvD,CAAb;AACA,UAAG,CAACa,MAAJ,EAAW;AACT,YAAIY,UAAUrE,SAASsE,cAAT,CAAwBT,WAAWlB,GAAX,EAAgBE,YAAxC,EAAsD0B,SAApE;AACAF,kBAAUA,QAAQG,OAAR,CAAgB,mCAAhB,EAAqD,EAArD,CAAV;AACA1B,aAAKE,KAAL,CAAWjD,IAAX,OAAoBgE,OAApB,sCAA4DM,OAA5D,UAAwEN,OAAxE;AACA,YAAG,CAACD,OAAJ,EAAa;AACd;AACF;AACD,QAAGhB,KAAKE,KAAL,CAAWU,MAAd,EAAqB;AACnBZ,WAAKZ,YAAL,CAAkBjB,SAAlB,CAA4BC,GAA5B,CAAgC8C,cAAhC;AACAlB,WAAKZ,YAAL,CAAkBgC,SAAlB,GAA8BpB,KAAKE,KAAL,CAAWyB,IAAX,CAAgB,IAAhB,CAA9B;AACA3B,WAAKb,YAAL,CAAkBhB,SAAlB,CAA4BC,GAA5B,CAAgC,SAAhC;AACD,KAJD,MAIK;AACH4B,WAAKb,YAAL,CAAkBhB,SAAlB,CAA4BC,GAA5B,CAAgC,OAAhC;AACD;AACD,WAAO,IAAP;AACD,G;AACD;;;;;;;;;;;;;SAWOiC,Q,qBAASb,I,EAAM2B,K,EAAkB;AAAA,QAAXrB,KAAW,uEAAH,EAAG;;AACtC,QAAI1C,OAAS,KAAKA,IAAL,CAAUW,GAAV,CAAcyB,IAAd,CAAb;AACA,QAAImB,SAAS,IAAb;AACA,SAAI,IAAI/B,IAAI,CAAR,EAAWgD,IAAIxE,KAAKyE,UAAL,CAAgBjB,MAAnC,EAA2ChC,IAAIgD,CAA/C,EAAkDhD,GAAlD,EAAsD;AACpD+B,eAAShE,OAAOS,IAAP,CAAYW,GAAZ,CAAgBX,KAAKyE,UAAL,CAAgBjD,CAAhB,CAAhB,EAAoCkD,KAApC,CAA0CX,KAA1C,EAAiDrB,KAAjD,CAAT;AACA,UAAG,CAACa,MAAJ,EAAY;AACb;AACD,QAAGA,MAAH,EAAWA,SAASvD,KAAK0E,KAAL,CAAWX,KAAX,EAAkBrB,KAAlB,CAAT;AACX,WAAOa,MAAP;AACD,G;;;;;AAGH,CAAC,YAAI;AACH,MAAIoB,KAAK,EAAT;AACAA,KAAGC,mBAAH,GAA2B,MAA3B;AACAD,KAAGf,OAAH,GAA2B,IAA3B;AACAe,KAAGb,cAAH,GAA2B,kBAA3B;AACAa,KAAGE,YAAH,GAA2B,IAA3B;AACAF,KAAGG,eAAH,GAA2B,IAA3B;;AAEA;;;;;AAKAvF,SAAOsB,MAAP,GAAgB;AACd;;;;;;;;AAQAF,OATc,eASV8B,GATU,EASN;AACN,aAAOkC,GAAGlC,GAAH,CAAP;AACD,KAXa;;AAYd;;;;;;AAMAnC,OAlBc,eAkBVmC,GAlBU,EAkBLsC,GAlBK,EAkBD;AACX,UAAG,QAAOtC,GAAP,yCAAOA,GAAP,OAAe,QAAlB,EAA4B,KAAI,IAAIuC,EAAR,IAAcvC,GAAd;AAAmB,aAAKnC,GAAL,CAAS0E,EAAT,EAAavC,IAAIuC,EAAJ,CAAb;AAAnB,OAC5BL,GAAGlC,GAAH,IAAUsC,GAAV;AACD;AArBa,GAAhB;AAwBD,CArCD;;AAuCA,CAAC,YAAI;AACH,MAAIpD,MAAO,IAAItB,GAAJ,EAAX;AACA,MAAI4E,OAAO,SAAPA,IAAO;AAAA,WAAQtD,IAAIhB,GAAJ,CAAQuE,IAAR,CAAR;AAAA,GAAX;;AAFG,MAIG/E,IAJH;AAKD;;;AAGA,oBAAa;AAAA;;AACX;AACAwB,UAAIrB,GAAJ,CAAQ,IAAR,EAAcC,OAAOC,MAAP,CAAc,IAAd,CAAd;AACA,UAAIJ,IAAI6E,KAAK,IAAL,CAAR;AACA7E,QAAE+E,OAAF,GAAY,EAAZ;AACA/E,QAAEgF,OAAF,GAAY,EAAZ;AACD;AACD;;;;;;;;;;;;;;AAfC,mBA2BDpE,GA3BC,gBA2BGuB,IA3BH,EA2BS8C,QA3BT,EA2BmBC,YA3BnB,EA2BiCC,QA3BjC,EA2B4D;AAAA,UAAjBC,QAAiB,uEAAN,KAAM;;AAC3D,UAAIpF,IAAI6E,KAAK,IAAL,CAAR;AACA,UAAIQ,cAAJ;AACA,cAAOlD,IAAP;AACE,aAAK,QAAL;AACEkD,kBAAQrF,EAAE+E,OAAV;AACA;AACF,aAAK,QAAL;AACEM,kBAAQrF,EAAEgF,OAAV;AACA;AANJ;AAQA,UAAG,CAACK,MAAMJ,QAAN,CAAJ,EAAqBI,MAAMJ,QAAN,IAAkB,EAAlB;AACrBI,cAAQA,MAAMJ,QAAN,CAAR;;AAEA,UAAIK,UAAU;AACZtD,cAAWkD,YADC;AAEZC,kBAAWA;AAFC,OAAd;AAIA,UAAGC,aAAa,KAAhB,EAAsB;AACpBC,cAAM5F,IAAN,CAAW6F,OAAX;AACD,OAFD,MAEK;AACHD,cAAME,MAAN,CAAaH,QAAb,EAAuB,CAAvB,EAA0BE,OAA1B;AACD;AACD,aAAO,IAAP;AACD,KAnDA;AAoDD;;;;;;;;;;;;AApDC,mBA8DDzB,MA9DC,mBA8DM1B,IA9DN,EA8DY8C,QA9DZ,EA8DsBC,YA9DtB,EA8DmC;AAClC,UAAIlF,IAAI6E,KAAK,IAAL,CAAR;AACA,UAAIQ,cAAJ;AACA,UAAIG,iBAAJ;AACA,cAAOrD,IAAP;AACE,aAAK,QAAL;AACEqD,qBAAW,SAAX;AACAH,kBAAQrF,EAAE+E,OAAV;AACA;AACF,aAAK,QAAL;AACES,qBAAW,SAAX;AACA;AAPJ;AASAH,cAAQrF,EAAEwF,QAAF,EAAYP,QAAZ,CAAR;AACA,UAAGI,KAAH,EAAS;AACPA,gBAAQA,MAAMnE,MAAN,CAAa,UAACpB,IAAD,EAAQ;AAC3B,iBAAOA,KAAKkC,IAAL,KAAckD,YAArB;AACD,SAFO,CAAR;AAGAlF,UAAEwF,QAAF,EAAYP,QAAZ,IAAwBI,KAAxB;AACD;AACD,aAAO,IAAP;AACD,KAnFA;AAoFD;;;;;;;;;;;;AApFC,mBA8FDxE,MA9FC,mBA8FMmB,IA9FN,EA8F0C;AAAA,UAA9BM,KAA8B,uEAAtB,EAAsB;AAAA,UAAlBmD,UAAkB,uEAAL,IAAK;;AACzC,UAAIzF,IAAU6E,KAAK,IAAL,CAAd;AACA,UAAIE,UAAU/E,EAAE+E,OAAF,CAAU/C,IAAV,CAAd;AACA,UAAG+C,OAAH,EAAYA,QAAQpC,OAAR,CAAgB;AAAA,eAAY+C,SAASP,QAAT,CAAkBrB,IAAlB,CAAuB2B,UAAvB,EAAmCnD,KAAnC,CAAZ;AAAA,OAAhB;AACb,KAlGA;AAmGD;;;;;;;;;;;;AAnGC,mBA6GDpB,MA7GC,mBA6GMc,IA7GN,EA6GYR,IA7GZ,EA6GoC;AAAA,UAAlBiE,UAAkB,uEAAL,IAAK;;AACnC,UAAIzF,IAAU6E,KAAK,IAAL,CAAd;AACA,UAAIG,UAAUhF,EAAEgF,OAAF,CAAUhD,IAAV,CAAd;AACA,UAAGgD,OAAH,EAAW;AACTA,gBAAQrC,OAAR,CAAgB,UAAC+C,QAAD,EAAY;AAC1BlE,iBAAOkE,SAASP,QAAT,CAAkBrB,IAAlB,CAAuB2B,UAAvB,EAAmCjE,IAAnC,CAAP;AACD,SAFD;AAGD;AACD,aAAOA,IAAP;AACD,KAtHA;;AAAA;AAAA;;AAwHHrC,SAAOY,IAAP,GAAcA,IAAd;AACD,CAzHD;;AA2HA,CAAC,YAAI;AACH;;;;;AAKA,MAAIH,OAAOO,OAAOC,MAAP,CAAc,IAAd,CAAX;;AAEA,MAAIuF,WAAW,EAAf;;AAEA;;;;;;;;;;;;;;AAcA/F,OAAKgB,GAAL,GAAW,UAASoB,IAAT,EAAemD,QAAf,EAAyC;AAAA,QAAhBd,UAAgB,uEAAH,EAAG;;AAClDA,iBAAa,OAAOA,UAAP,KAAsB,QAAtB,GAAiC,CAACA,UAAD,CAAjC,GAAgDA,UAA7D;AACAsB,aAAS3D,IAAT,IAAiB;AACfsC,aAAaa,QADE;AAEfd,kBAAaA;AAFE,KAAjB;AAID,GAND;AAOA;;;;;;;;;AASAzE,OAAKiE,MAAL,GAAc,UAAS7B,IAAT,EAAc;AAC1B,WAAO2D,SAAS3D,IAAT,CAAP;AACA,WAAO,IAAP;AACD,GAHD;AAIA;;;;;;;;;AASApC,OAAKW,GAAL,GAAW,UAACyB,IAAD;AAAA,WAAS2D,SAAS3D,IAAT,CAAT;AAAA,GAAX;;AAEA7C,SAAOS,IAAP,GAAcA,IAAd;AACD,CAxDD;;AA0DA,CAAC,YAAI;;AAEH,MAAI6B,SAAS,EAAb;AACAA,SAAOC,KAAP,GAAe,UAAStC,WAAT,EAAsBuC,YAAtB,EAAmC;AAChDqB,YAAQC,GAAR,CAAY7D,WAAZ;AACA,WAAO,IAAP;AACD,GAHD;;AAKAD,SAAOsC,MAAP,GAAgBA,MAAhB;AACD,CATD;;AAWA,CAAC,YAAI;AACH;;;AAGA,MAAI5B,SAASM,OAAOC,MAAP,CAAc,IAAd,CAAb;AACA,MAAIwF,QAAS,EAAb;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA/F,SAAOe,GAAP,GAAa,UAASoB,IAAT,EAAemD,QAAf,EAAoC;AAAA,QAAX7C,KAAW,uEAAH,EAAG;;AAC/C,QAAGsD,MAAM5D,IAAN,CAAH,EAAe;AACbgB,cAAQN,KAAR,cAAyBV,IAAzB;AACA,aAAO,KAAP;AACD;AACD,QAAG7C,OAAOE,YAAP,EAAH,EAAyB;AACvB2D,cAAQN,KAAR;AACA,aAAO,KAAP;AACD;AACDvD,WAAOU,MAAP,CAAcmC,IAAd,IAAsBmD,QAAtB;AACA;AACA;AACA;AACA;AACD,GAdD;AAeAtF,SAAO+F,KAAP,GAAeA,KAAf;;AAEAzG,SAAOU,MAAP,GAAgBA,MAAhB;AACD,CA5DD;;AA8DA,CAAC,YAAI;AACH,MAAIgG,cAAc,KAAlB;AACA;;;;;;;;AAQA1G,SAAOG,IAAP,GAAc,YAAI;AAChBuG,kBAAc,IAAd;AACD,GAFD;AAGA;;;;;;;;AAQA1G,SAAOE,YAAP,GAAsB;AAAA,WAAKwG,WAAL;AAAA,GAAtB;AACD,CAtBD;;AAwBA,CAAC,YAAI;AACH,MAAIjG,OAAQT,OAAOS,IAAnB;;AAEA;;;;;AAKAT,SAAOS,IAAP,CAAYgB,GAAZ,CAAgB,UAAhB,EAA4B,UAAS+D,GAAT,EAAyB;AAAA,QAAXrC,KAAW,uEAAH,EAAG;;AACnD,QAAIwD,UAAUxD,MAAMyD,IAAN,KAAe,IAAf,GAAsB,IAAtB,GAA6B,KAA3C;;AAEA,QAAGD,OAAH,EAAYnB,MAAMA,IAAIoB,IAAJ,EAAN;;AAEZ,WAAOpB,MAAM,IAAN,GAAa,KAApB;AACD,GAND;AAQD,CAhBD;;AAkBA,CAAC,YAAI;AACH,MAAI/E,OAAQT,OAAOS,IAAnB;;AAEA;;;;AAIAA,OAAKgB,GAAL,CAAS,UAAT,EAAqB,UAAS+D,GAAT,EAAyB;AAAA,QAAXrC,KAAW,uEAAH,EAAG;;AAC5C,QAAIa,SAAS,IAAb;;AAEA,SAAI,IAAI/B,IAAI,CAAR,EAAWgD,IAAIO,IAAIvB,MAAvB,EAA+BhC,IAAIgD,CAAnC,EAAsChD,GAAtC,EAA0C;AACxC,UAAG,CAACjC,OAAOU,MAAP,CAAcmG,OAAd,CAAsBrB,IAAIvD,CAAJ,CAAtB,CAAJ,EAAkC;AAChC+B,iBAAS,KAAT;AACA;AACD;AACF;AACD,WAAOA,MAAP;AACD,GAVD;AAYD,CAnBD;;AAqBA,CAAC,YAAI;AACH,MAAIvD,OAAQT,OAAOS,IAAnB;;AAEA;;;;AAIAA,OAAKgB,GAAL,CAAS,UAAT,EAAqB,UAAS+D,GAAT,EAAyB;AAAA,QAAXrC,KAAW,uEAAH,EAAG;;AAC5C,QAAIa,SAAS,IAAb;;AAEA,SAAI,IAAI/B,IAAI,CAAR,EAAWgD,IAAIO,IAAIvB,MAAvB,EAA+BhC,IAAIgD,CAAnC,EAAsChD,GAAtC,EAA0C;AACxC,UAAG,CAACjC,OAAOU,MAAP,CAAcoG,OAAd,CAAsBtB,IAAIvD,CAAJ,CAAtB,CAAJ,EAAkC;AAChC+B,iBAAS,KAAT;AACA;AACD;AACF;AACD,WAAOA,MAAP;AACD,GAVD;AAYD,CAnBD;;AAqBA,CAAC,YAAI;AACH,MAAIvD,OAAQT,OAAOS,IAAnB;;AAEA;;;;;;AAMAA,OAAKgB,GAAL,CAAS,QAAT,EAAmB,UAAS+D,GAAT,EAAyB;AAAA,QAAXrC,KAAW,uEAAH,EAAG;;AAC1C,QAAI4D,gBAAgB5D,MAAM6D,UAAN,KAAqB,IAArB,GAA4B,IAA5B,GAAmC,KAAvD;AACA,QAAIL,UAAgBxD,MAAMyD,IAAN,KAAqB,IAArB,GAA4B,IAA5B,GAAmC,KAAvD;;AAEA,QAAGG,aAAH,EAAkBvB,MAAMxF,OAAOU,MAAP,CAAcuG,SAAd,CAAwBzB,GAAxB,CAAN;AAClB,QAAGmB,OAAH,EAAYnB,MAAMA,IAAIoB,IAAJ,EAAN;;AAEZ,QAAG,CAAC,WAAWM,IAAX,CAAgB1B,GAAhB,CAAJ,EAA0B,OAAO,KAAP;AAC1B,WAAO,IAAP;AACD,GATD;AAWD,CApBD;;AAsBA,CAAC,YAAI;AACH,MAAI/E,OAAQT,OAAOS,IAAnB;;AAEA;;;;;;;AAOAA,OAAKgB,GAAL,CAAS,KAAT,EAAgB,UAAS+D,GAAT,EAAyB;AAAA,QAAXrC,KAAW,uEAAH,EAAG;;AACvC,QAAIgE,SAAgBhE,MAAMiE,OAAN,GAA4BjE,MAAMiE,OAAlC,GAA4C,GAAhE;AACA,QAAIL,gBAAgB5D,MAAM6D,UAAN,KAAqB,IAArB,GAA4B,IAA5B,GAAmC,KAAvD;AACA,QAAIL,UAAgBxD,MAAMyD,IAAN,KAAqB,IAArB,GAA4B,IAA5B,GAAmC,KAAvD;;AAEA,QAAGG,aAAH,EAAkBvB,MAAMxF,OAAOU,MAAP,CAAcuG,SAAd,CAAwBzB,GAAxB,CAAN;AAClB,QAAGmB,OAAH,EAAYnB,MAAMA,IAAIoB,IAAJ,EAAN;;AAEZ,QAAG,CAAC,eAAeM,IAAf,CAAoB1B,GAApB,CAAJ,EAA8B,OAAO,KAAP,CARS,CAQc;AACrD,QAAGA,IAAIvB,MAAJ,KAAe,CAAf,IAAoB,KAAKiD,IAAL,CAAU1B,GAAV,CAAvB,EAAuC,OAAO,KAAP,CATA,CASc;AACrD,QAAGA,MAAM2B,MAAT,EAAiB,OAAO,KAAP,CAVsB,CAUc;AACrD,WAAO,IAAP;AACD,GAZD,EAYG,CAAC,QAAD,CAZH;AAcD,CAxBD;;AA0BA,CAAC,YAAI;AACH,MAAI1G,OAAQT,OAAOS,IAAnB;;AAEA;;;;AAIAA,OAAKgB,GAAL,CAAS,OAAT,EAAkB,UAAS+D,GAAT,EAAyB;AAAA,QAAXrC,KAAW,uEAAH,EAAG;;AACzC;AACA,QAAIkE,KAAK,2JAAT;AACA,WAAOA,GAAGH,IAAH,CAAQ1B,GAAR,CAAP;AACD,GAJD,EAIG,CAAC,UAAD,CAJH;AAMD,CAbD;;AAeA,CAAC,YAAI;AACH,MAAI/E,OAAQT,OAAOS,IAAnB;;AAEA;;;;;AAKAA,OAAKgB,GAAL,CAAS,WAAT,EAAsB,UAAS+D,GAAT,EAAcrC,KAAd,EAAoB;AACxC,QAAIa,SAAS,IAAb;AACA,QAAG,CAACb,MAAMmE,IAAV,EAAgB,OAAOtD,MAAP;;AAEhB,SAAI,IAAI/B,IAAI,CAAR,EAAWgD,IAAI9B,MAAMmE,IAAN,CAAWrD,MAA9B,EAAsChC,IAAIgD,CAA1C,EAA6ChD,GAA7C,EAAiD;AAC/C,UAAGuD,QAAQrC,MAAMmE,IAAN,CAAWrF,CAAX,CAAX,EAAyB;AACvB+B,iBAAS,KAAT;AACA;AACD;AACF;AACD,WAAOA,MAAP;AACD,GAXD;AAaD,CArBD;;AAuBA,CAAC,YAAI;AACH,MAAIvD,OAAQT,OAAOS,IAAnB;;AAEA;;;;;AAKAA,OAAKgB,GAAL,CAAS,WAAT,EAAsB,UAAS+D,GAAT,EAAcrC,KAAd,EAAoB;AACxC,QAAIa,SAAS,KAAb;AACA,QAAG,CAACb,MAAMmE,IAAV,EAAgB,OAAOtD,MAAP;;AAEhB,SAAI,IAAI/B,IAAI,CAAR,EAAWgD,IAAI9B,MAAMmE,IAAN,CAAWrD,MAA9B,EAAsChC,IAAIgD,CAA1C,EAA6ChD,GAA7C,EAAiD;AAC/C,UAAGuD,QAAQrC,MAAMmE,IAAN,CAAWrF,CAAX,CAAX,EAAyB;AACvB+B,iBAAS,IAAT;AACA;AACD;AACF;AACD,WAAOA,MAAP;AACD,GAXD;AAaD,CArBD;;AAuBA,CAAC,YAAI;AACH,MAAIvD,OAAQT,OAAOS,IAAnB;;AAEA;;;;;;;AAOAA,OAAKgB,GAAL,CAAS,OAAT,EAAkB,UAAS+D,GAAT,EAAyB;AAAA,QAAXrC,KAAW,uEAAH,EAAG;;AACzC,QAAIa,SAAU,IAAd;AACA,QAAI2C,UAAUxD,MAAMyD,IAAN,KAAe,IAAf,GAAsB,IAAtB,GAA6B,KAA3C;AACA,QAAGD,OAAH,EAAYnB,MAAMA,IAAIoB,IAAJ,EAAN;;AAEZ,QAAGzD,MAAMoE,GAAN,KAAclH,SAAd,IAA2B8C,MAAMqE,GAAN,KAAcnH,SAA5C,EAAuD,OAAO2D,MAAP;;AAEvD,QAAGb,MAAMoE,GAAN,KAAclH,SAAd,IAA2B,OAAO8C,MAAMqE,GAAb,KAAqB,QAAnD,EAA4D;AAC1D,UAAGhC,IAAIvB,MAAJ,GAAad,MAAMqE,GAAtB,EAA2BxD,SAAS,KAAT;AAC5B;AACD,QAAG,OAAOb,MAAMoE,GAAb,KAAqB,QAArB,IAAiCpE,MAAMqE,GAAN,KAAcnH,SAAlD,EAA4D;AAC1D,UAAGmF,IAAIvB,MAAJ,GAAad,MAAMoE,GAAtB,EAA2BvD,SAAS,KAAT;AAC5B;AACD,QAAGb,MAAMoE,GAAN,KAAclH,SAAd,IAA2B8C,MAAMqE,GAAN,KAAcnH,SAA5C,EAAsD;AACpD,UAAGmF,IAAIvB,MAAJ,GAAad,MAAMoE,GAAnB,IAA0B/B,IAAIvB,MAAJ,GAAad,MAAMqE,GAAhD,EAAqDxD,SAAS,KAAT;AACtD;AACD,WAAOA,MAAP;AACD,GAjBD;AAmBD,CA7BD;;AA+BA,CAAC,YAAI;AACH,MAAIvD,OAAQT,OAAOS,IAAnB;;AAEA;;;;AAIAA,OAAKgB,GAAL,CAAS,OAAT,EAAkB,UAAS+D,GAAT,EAAcrC,KAAd,EAAoB;AACpCA,YAAQ,OAAOA,KAAP,KAAiB,QAAjB,GAA4B5C,SAASC,aAAT,CAAuB2C,KAAvB,CAA5B,GAA4DA,KAApE;AACA,WAAOA,MAAMqB,KAAN,KAAgBgB,GAAvB;AACD,GAHD;AAKD,CAZD;;AAcA,CAAC,YAAI;;AAEH,MAAIiC,OAAO,EAAX;AACAA,SAAOzG,OAAO0G,MAAP,CAAcD,IAAd,EAAoB;AACzB,SAAM,GADmB,EACd,KAAM,GADQ,EACH,KAAM,GADH,EACQ,KAAM,GADd,EACmB,KAAM,GADzB;AAEzB,SAAM,GAFmB,EAEd,KAAM,GAFQ,EAEH,KAAM,GAFH,EAEQ,KAAM,GAFd,EAEmB,KAAM;AAFzB,GAApB,CAAP;AAIAA,SAAOzG,OAAO0G,MAAP,CAAcD,IAAd,EAAoB;AACzB,SAAM,GADmB,EACd,KAAM,GADQ,EACH,KAAM,GADH,EACQ,KAAM,GADd,EACmB,KAAM,GADzB;AAEzB,SAAM,GAFmB,EAEd,KAAM,GAFQ,EAEH,KAAM,GAFH,EAEQ,KAAM,GAFd,EAEmB,KAAM,GAFzB;AAGzB,SAAM,GAHmB,EAGd,KAAM,GAHQ,EAGH,KAAM,GAHH,EAGQ,KAAM,GAHd,EAGmB,KAAM,GAHzB;AAIzB,SAAM,GAJmB,EAId,KAAM,GAJQ,EAIH,KAAM,GAJH,EAIQ,KAAM,GAJd,EAImB,KAAM,GAJzB;AAKzB,SAAM,GALmB,EAKd,KAAM,GALQ,EAKH,KAAM,GALH,EAKQ,KAAM,GALd,EAKmB,KAAM,GALzB;AAMzB,SAAM;AANmB,GAApB,CAAP;AAQAA,SAAOzG,OAAO0G,MAAP,CAAcD,IAAd,EAAoB;AACzB,SAAM,GADmB,EACd,KAAM,GADQ,EACH,KAAM,GADH,EACQ,KAAM,GADd,EACmB,KAAM,GADzB;AAEzB,SAAM,GAFmB,EAEd,KAAM,GAFQ,EAEH,KAAM,GAFH,EAEQ,KAAM,GAFd,EAEmB,KAAM,GAFzB;AAGzB,SAAM,GAHmB,EAGd,KAAM,GAHQ,EAGH,KAAM,GAHH,EAGQ,KAAM,GAHd,EAGmB,KAAM,GAHzB;AAIzB,SAAM,GAJmB,EAId,KAAM,GAJQ,EAIH,KAAM,GAJH,EAIQ,KAAM,GAJd,EAImB,KAAM,GAJzB;AAKzB,SAAM,GALmB,EAKd,KAAM,GALQ,EAKH,KAAM,GALH,EAKQ,KAAM,GALd,EAKmB,KAAM,GALzB;AAMzB,SAAM;AANmB,GAApB,CAAP;AAQAA,SAAOzG,OAAO0G,MAAP,CAAcD,IAAd,EAAoB;AACzB,SAAM,GADmB,EACd,KAAM,GADQ,EACH,KAAM,GADH,EACQ,KAAM,GADd,EACmB,KAAM,GADzB;AAEzB,SAAM,GAFmB,EAEd,KAAM,GAFQ,EAEH,KAAM,GAFH,EAEQ,KAAM,GAFd,EAEmB,KAAM,GAFzB;AAGzB,SAAM,GAHmB,EAGd,KAAM,GAHQ,EAGH,KAAM,GAHH,EAGQ,KAAM,GAHd,EAGmB,KAAM,GAHzB;AAIzB,SAAM,GAJmB,EAId,KAAM,GAJQ,EAIH,KAAM,GAJH,EAIQ,KAAM,GAJd,EAImB,KAAM,GAJzB;AAKzB,SAAM,GALmB,EAKd,KAAM,GALQ,EAKH,KAAM,GALH,EAKQ,KAAM,GALd,EAKmB,KAAM,GALzB;AAMzB,SAAM,GANmB,EAMd,KAAM,GANQ,EAMH,KAAM,GANH,EAMQ,KAAM,GANd,EAMmB,KAAM;AANzB,GAApB,CAAP;AAQA,MAAIR,YAAY,SAAZA,SAAY,CAASzB,GAAT,EAAa;AAC3B,QAAIxB,SAAS,EAAb;AACAwB,QAAI5C,KAAJ,CAAU,EAAV,EAAcY,OAAd,CAAsB,UAACmE,CAAD,EAAK;AACzBA,UAAIF,KAAKE,CAAL,IAAUF,KAAKE,CAAL,CAAV,GAAoBA,CAAxB;AACA3D,gBAAU2D,CAAV;AACD,KAHD;AAIA,WAAO3D,MAAP;AACD,GAPD;AAQAiD,YAAUW,MAAV,GAAmB,UAACC,OAAD,EAAW;AAC5BJ,WAAOzG,OAAO0G,MAAP,CAAcD,IAAd,EAAoBI,OAApB,CAAP;AACD,GAFD;;AAIA7H,SAAOU,MAAP,CAAce,GAAd,CAAkB,WAAlB,EAA+BwF,SAA/B;AACD,CA5CD;;AA8CA,CAAC,YAAI;;AAEHa,YAAU,iBAASC,IAAT,EAAc;AACtB,WAAO,UAASvC,GAAT,EAAa;AAClB,UAAIwC,OAAOxC,IAAIyC,UAAJ,CAAe,CAAf,CAAX;AACA,UAAIC,IAAQF,QAAQ,GAAR,IAAeA,OAAO,IAAvB,IAAiCA,QAAQ,MAAzC,IAAqDA,QAAQ,MAAR,IAAkBA,OAAO,MAA9E,IAA0FA,QAAQ,MAAR,IAAkBA,OAAO,MAA9H;AACA,aAAO,EAAEE,IAAIH,IAAN,CAAP;AACD,KAJD;AAKD,GAND;;AAQA/H,SAAOU,MAAP,CAAce,GAAd,CAAkB,SAAlB,EAA6BqG,QAAQ,IAAR,CAA7B;;AAEA9H,SAAOU,MAAP,CAAce,GAAd,CAAkB,SAAlB,EAA6BqG,QAAQ,KAAR,CAA7B;AAED,CAdD;;AAgBA;AACA,IAAG,OAAOK,OAAP,KAAmB,WAAnB,IAAkC,OAAOC,OAAP,KAAmB,WAAxD,EAAoE;AAClEC,SAAOC,OAAP,GAAiBtI,MAAjB;AACD;AACD;AAHA,KAII;AACFuI,WAAOvI,MAAP,GAAgBA,MAAhB;AACD","file":"kensho.js","sourcesContent":["/**\n * @class Kensho\n * @namespace Kensho\n */\nclass Kensho{\n  /**\n   *\n   *\n   * @constructs Kensho\n   * @param  {(String|HTMLElement)} formElement\n   */\n  constructor(formElement){\n    if(!Kensho.isInitialize()) Kensho.init();\n\n    if(Kensho.instanceList === undefined) Kensho.instanceList = [this];\n    else Kensho.instanceList.push(this);\n\n    formElement = typeof formElement === 'string' ? document.querySelector(formElement) : formElement;\n\n    /**\n     * @member {HTMLElement} formElement\n     * @memberof Kensho\n     * @instance\n     */\n    this.formElement = formElement;\n    /**\n     * @member {object} rule\n     * @memberof Kensho\n     * @instance\n     */\n    this.rule = Kensho.rule;\n    /**\n     * @member {object} plugin\n     * @memberof Kensho\n     * @instance\n     */\n    this.plugin = Kensho.plugin;\n    /**\n     * @member {hook} hook\n     * @memberof Kensho\n     * @instance\n     */\n    this.hook = new Kensho.Hook();\n\n    // soft private\n    this._ = new Map();\n    this._.set(this, Object.create(null));\n    Object.defineProperty(this, '_', { enumerable : false });\n    let _ = this._.get(this);\n    _.inputs = {};\n\n    // if(Kensho.config.get('HTML5novalidate'))\n    //   formElement.setAttribute('novalidate', 'novalidate');\n    if(Kensho.config.get('autocomplete'))\n      formElement.setAttribute('autocomplete', 'off');\n\n    formElement.classList.add('kensho-form');\n\n    this.hook.action('init', {}, this);\n\n    // parser\n    let parserList = formElement.querySelectorAll('*[data-k-name]');\n    if(parserList){\n      parserList = Array.from(parserList);\n      parserList = parserList.filter((html, i)=> !html.getAttribute('data-k-name').match(/\\-\\-err$/) ? true : false );\n      parserList.map((html, i)=>{\n        let data = Kensho.parser.parse(formElement, html);\n      });\n    }\n  }\n  /**\n   * add validation field.\n   *\n   * <div class=\"note\">\n   *   <p>\n   *     argument event fundamentally sets JavaScript event.type name.<br>\n   *     but, it supports especialy names, as follows.\n   *   </p>\n   *   <dl>\n   *     <dt>init</dt>\n   *     <dd>when in add() method</dd>\n   *   </dl>\n   * </div>\n   *\n   * @method  Kensho#add\n   * @version 0.0.1\n   *\n   * @param {(String|HTMLElement|HTMLElement[])} inputElement form input HTML element or its CSS selector string.\n   * @param {(String|HTMLElement)}               errorElement wrapper element of output error message or its CSS selector string.\n   * @param {object}                             rule         the key is rule name. The value is error message.\n   * @param {String|String[]}                    [event=['']] trigger events.\n   * @return {kensho}                                         instance\n   */\n  add(inputElement, errorElement, rule, event = ['']){\n\n    // for example, name attribute of radio buttons are seted same value.\n    // querySelector return matched first HTML element and 2nd and subsequent matched element is ignored.\n    // so, InputElement not use querySelector but use querySelectorAll.\n    // as a result of it, inputElement type is a array.\n    inputElement = typeof inputElement === 'string' ? document.querySelectorAll(inputElement) : Array.isArray(inputElement) ? inputElement : [inputElement];\n    errorElement = typeof errorElement === 'string' ? document.querySelector(errorElement) : errorElement;\n    event        = typeof event        === 'string' ? event.split('|') : event;\n\n    let _       = this._.get(this);\n    let name    = inputElement[0].getAttribute('name');\n    let tagName = inputElement[0].tagName.toLowerCase();\n    let type    = null;\n    if(tagName === 'input') type = inputElement[0].getAttribute('type');\n    else type = tagName;\n\n    // the following types are handled as text type\n    switch(type){\n      case 'password' :\n        type = 'text';\n        break;\n      case 'search' :\n        type = 'text';\n        break;\n      case 'tel' :\n        type = 'text';\n        break;\n      case 'email' :\n        type = 'text';\n        break;\n      case 'url' :\n        type = 'text';\n        break;\n    }\n\n    if(type !== 'radio') inputElement = inputElement[0];\n\n    let _rule = {};\n    for(let key in rule){\n      if(typeof rule[key] === 'string'){\n        _rule[key] = {\n          param        : {},\n          errorMessage : rule[key]\n        };\n      }else{\n        _rule[key] = rule[key];\n      }\n    }\n    rule = _rule;\n\n    let unit = {\n      name         : name,\n      inputElement : inputElement,\n      errorElement : errorElement,\n      inputTagName : tagName,\n      type         : type,\n      rule         : rule,\n      error        : []\n    }\n\n    unit = this.hook.filter('validate-filed', unit, this);\n    _.inputs[name] = unit;\n\n    // Add event handler\n    event.forEach((name, i)=>{\n      if(name === 'init'){\n        if(unit.type === 'radio'){\n          unit.inputElement.forEach((input, i)=>{\n            this.validate(unit.name);\n          });\n        }else{\n          this.validate(unit.name);\n        }\n      }else{\n        if(unit.type === 'radio'){\n          unit.inputElement.forEach((input, i)=>{\n            input.addEventListener(name, ()=>{\n              this.validate(unit.name);\n            });\n          });\n        }else{\n          unit.inputElement.addEventListener(name, ()=>{\n            this.validate(unit.name);\n          });\n        }\n      }\n    });\n\n    // console.log(inputElement.getAttribute('type'));\n    if(inputElement.getAttribute('type') === 'email'){\n      inputElement.addEventListener('change', function(e){\n        // e.preventDefault();\n        console.log(e);\n      });\n    }\n\n    this.hook.action('set-validate-field', {unit : unit}, this);\n    return this;\n  }\n  /**\n   *\n   *\n   *\n   * @method Kensho#hasError\n   *\n   * @return {Boolean}\n   */\n  hasError(){\n    let _      = this._.get(this);\n    let result = false;\n    for(let key in _.inputs){\n      if(_.inputs[key].error.length !== 0){\n        result = true;\n        break;\n      }\n    }\n    return result;\n  }\n  /**\n   *\n   *\n   *\n   * @method Kensho#allValidate\n   *\n   * @return {void}\n   */\n  allValidate(){\n    let _ = this._.get(this);\n    Object.keys(_.inputs).map((key, i)=>{\n      this.validate(key);\n    });\n  }\n  /**\n   *\n   *\n   *\n   * @method  Kensho#validate\n   * @version 0.0.1\n   *\n   * @param  {String} name       -\n   * @return {kensho} instance\n   */\n  validate(name){\n    let _              = this._.get(this);\n    let unit           = _.inputs[name];\n    let applyRules     = unit.rule;\n    let verbose        = Kensho.config.get('verbose');\n    let wrapTag        = Kensho.config.get('errorMessageWrapper');\n    let errorClassName = Kensho.config.get('errorClassName');\n\n    if(unit.type === 'text'){\n      value = unit.inputElement.value;\n    }else{\n      value = this.formElement[unit.name] ? this.formElement[unit.name] : value;\n    }\n    if(unit.type === 'textarea'){\n      // console.log();\n    }\n\n    unit.errorElement.innerHTML = '';\n    unit.errorElement.classList.remove(errorClassName);\n    unit.error                  = [];\n    // if(Kensho.config.get('validationPseudoClass')) unit.inputElement.setCustomValidity('');\n    unit.inputElement.classList.remove('invalid');\n    unit.inputElement.classList.remove('valid');\n\n    value = this.hook.filter('pre-validate-value', value, this);\n\n    for(let key in applyRules){\n      let result = Kensho.validate.call(this, key, value, applyRules[key].param);\n      if(!result){\n        let message = document.createTextNode(applyRules[key].errorMessage).nodeValue;\n        message = message.replace(/\\<+script[\\s\\S]*\\/script[^>]*>/img, '');\n        unit.error.push(`<${wrapTag} class=\"kensho-error-message\">${message}</${wrapTag}>`);\n        if(!verbose) break;\n      }\n    }\n    if(unit.error.length){\n      unit.errorElement.classList.add(errorClassName);\n      unit.errorElement.innerHTML = unit.error.join('\\n');\n      unit.inputElement.classList.add('invalid');\n    }else{\n      unit.inputElement.classList.add('valid');\n    }\n    return this;\n  }\n  /**\n   * validate\n   *\n   * @method  Kensho.validate\n   * @version 0.0.1\n   *\n   * @param  {String} name       validation rule name.\n   * @param  {*}      value      input value.\n   * @param  {Object} [param={}] in order to pass to a rule function.\n   * @return {Boolean}           value is valid or invalid\n   */\n  static validate(name, value, param = {}){\n    let rule   = this.rule.get(name);\n    let result = true;\n    for(let i = 0, l = rule.dependency.length; i < l; i++){\n      result = Kensho.rule.get(rule.dependency[i]).check(value, param);\n      if(!result) break;\n    }\n    if(result) result = rule.check(value, param);\n    return result;\n  }\n}\n\n(()=>{\n  let _c = {};\n  _c.errorMessageWrapper   = 'span';\n  _c.verbose               = true;\n  _c.errorClassName        = 'kensho-has-error';\n  _c.autocomplete          = true;\n  _c.HTML5novalidate       = true;\n\n  /**\n   * Kensho configuration.\n   *\n   * @namespace Kensho.config\n   */\n  Kensho.config = {\n    /**\n    * get configuration value\n    *\n    * @method Kensho.config.get\n    *\n    * @param {String} key configuration key name\n    * @return {*}         key value\n    */\n    get(key){\n      return _c[key];\n    },\n    /**\n     * Set configuration value\n     *\n     * @param {(String|Object)} key configuration key name. when you pass an object, you can set a number of configurations in bluk.\n     * @return {void}\n     */\n    set(key, val){\n      if(typeof key === 'object') for(let _k in key) this.set(_k, key[_k]);\n      _c[key] = val;\n    }\n  }\n\n})();\n\n(()=>{\n  let map  = new Map();\n  let _get = self => map.get(self);\n\n  class Hook{\n    /**\n     * @constructs Kensho.Hook\n     */\n    constructor(){\n      // soft private\n      map.set(this, Object.create(null));\n      let _ = _get(this);\n      _.actions = {};\n      _.filters = {};\n    }\n    /**\n     * add action/filter hook\n     * \n     * @version 0.0.1\n     * \n     * @param {string} type         - this hook type name. \"action\" or \"filter\"\n     * @param {string} hookName     - the target hook name\n     * @param {string} callbackName - callback name\n     * @param {string} callback     - \n     * @param {number} [priority]   - a priority of to do callback\n     * @return {hook}               - instance\n     */\n    add(type, hookName, callbackName, callback, priority = false){\n      let _ = _get(this);\n      let hooks;\n      switch(type){\n        case 'action' :\n          hooks = _.actions;\n          break;\n        case 'filter' :\n          hooks = _.filters;\n          break;\n      }\n      if(!hooks[hookName]) hooks[hookName] = [];\n      hooks = hooks[hookName];\n      \n      let newHook = {\n        name     : callbackName,\n        callback : callback\n      }\n      if(priority === false){\n        hooks.push(newHook);\n      }else{\n        hooks.splice(priority, 0, newHook);\n      }\n      return this;\n    }\n    /**\n     * remove action/filter hook\n     * \n     * @version 0.0.1\n     * \n     * @param  {string} type         - this hook type name. \"action\" or \"filter\"\n     * @param  {string} hookName     - the target hook name\n     * @param  {string} callbackName - callback name\n     * @return {hook}                - instance\n     */\n    remove(type, hookName, callbackName){\n      let _ = _get(this);\n      let hooks;\n      let typeName;\n      switch(type){\n        case 'action' :\n          typeName = 'actions';\n          hooks = _.actions;\n          break;\n        case 'filter' :\n          typeName = 'filters';\n          break;\n      }\n      hooks = _[typeName][hookName];\n      if(hooks){\n        hooks = hooks.filter((hook)=>{\n          return hook.name !== callbackName;\n        });\n        _[typeName][hookName] = hooks;\n      }\n      return this;\n    }\n    /**\n     * do action hook\n     * \n     * @version 0.0.1\n     * \n     * @param  {string} name       - hook name\n     * @param  {object} [param={}] - in order to pass to the callbacks\n     * @param  {*}      thisObject - to bind \"this\" object. default is Hook instance\n     * @return {void}\n     */\n    action(name, param = {}, thisObject = this){\n      let _       = _get(this);\n      let actions = _.actions[name];\n      if(actions) actions.forEach(listener => listener.callback.call(thisObject, param));\n    }\n    /**\n     * apply filter hook\n     * \n     * @version 0.0.1\n     * \n     * @param  {string} name       - hook name\n     * @param  {*}      data       - data to be filterd\n     * @param  {*}      thisObject - to bind \"this\" object. default is Hook instance\n     * @return {*}                 - a filtered data\n     */\n    filter(name, data, thisObject = this){\n      let _       = _get(this);\n      let filters = _.filters[name];\n      if(filters){\n        filters.forEach((listener)=>{\n          data = listener.callback.call(thisObject, data);\n        });\n      };\n      return data;\n    }\n  }\n  Kensho.Hook = Hook;\n})();\n\n(()=>{\n  /**\n   * validation rules\n   * \n   * @namespace Kensho.rule\n   */\n  let rule = Object.create(null);\n  \n  let ruleBook = {};\n\n  /**\n   * add validation rule\n   *\n   * callback takes 2 arguments. the first arugment is input value. second is rule parameters.\n   * callback must return result of validated input value as boolean type.\n   *\n   * @method  Kensho.rule.add\n   * @version 0.0.1\n   *\n   * @param  {String}            name       validation rule name\n   * @param  {Function}          callback   rule method.\n   * @param  {(String|String[])} dependency other rule that the rule depend on\n   * @return {void}\n   */\n  rule.add = function(name, callback, dependency = []){\n    dependency = typeof dependency === 'string' ? [dependency] : dependency;\n    ruleBook[name] = {\n      check      : callback,\n      dependency : dependency\n    };\n  };\n  /**\n   * remove validation rule.\n   * \n   * @method  Kensho.rule.remove\n   * @version 0.0.1\n   *\n   * @param  {String} name validation rule name\n   * @return {Object}      this\n   */\n  rule.remove = function(name){\n    delete ruleBook[name];\n    return this;\n  };\n  /**\n   * return validation rule.\n   *\n   * @method  Kensho.rule.get\n   * @version 0.0.1\n   * \n   * @param  {String} name validation rule name\n   * @return {Object}\n   */\n  rule.get = (name)=> ruleBook[name];\n\n  Kensho.rule = rule;\n})();\n\n(()=>{\n\n  let parser = {};\n  parser.parse = function(formElement, inputElement){\n    console.log(formElement);\n    return true;\n  }\n\n  Kensho.parser = parser;\n})();\n\n(()=>{\n  /**\n   * @namespace Kensho.plugin\n   */\n  let plugin = Object.create(null);\n  let _list  = {};\n  /**\n   * add plugin\n   *\n   * <div class=\"nonte\">\n   *   <table>\n   *     <thead>\n   *       <tr>\n   *         <td></td><th>class</th><th>instance</th>\n   *       </tr>\n   *     </thead>\n   *     <tbody>\n   *       <tr>\n   *         <th>this</th>\n   *         <td>Kensho</td>\n   *         <td>instance</td>\n   *       </tr><tr>\n   *         <th>init. function</th>\n   *         <td>once. when create first instance</td>\n   *         <td>every time create instance</td>\n   *       </tr><tr>\n   *         <th>to refer by instance</th>\n   *         <td>this.classPlugin or Kensho.plugin</td>\n   *         <td>this.plugin </td>\n   *       </tr>\n   *     </tbody>\n   *   </table>\n   * </div>\n   * \n   * @method  Kensho.plugin.add\n   * @version 0.0.1\n   *\n   * @param  {String}   name       plug-in name.\n   * @param  {Function} callback   plug-in initialize function.\n   * @param  {Object}   [param={}] paramerters in order to pass to the initialize function.\n   * @return {void}\n   */\n  plugin.add = function(name, callback, param = {}){\n    if(_list[name]){\n      console.error(`plug-in ${name} is conflict`);\n      return false;\n    }\n    if(Kensho.isInitialize()){\n      console.error(`plug-in is must be added before create instance.`);\n      return false;\n    }\n    Kensho.plugin[name] = callback;\n    // _list[name] = {\n    //   param    : param,\n    //   callback : callback\n    // };\n  }\n  plugin._list = _list;\n\n  Kensho.plugin = plugin;\n})();\n\n(()=>{\n  let initialized = false;\n  /**\n   * initialization\n   * \n   * @method  Kensho.init\n   * @version 0.0.1\n   * \n   * @return {void}\n   */\n  Kensho.init = ()=>{\n    initialized = true;\n  };\n  /**\n   * return true or false whether class initialization was processed.\n   * \n   * @method  Kensho.isInitialize\n   * @version 0.0.1\n   * \n   * @return {Boolean}\n   */\n  Kensho.isInitialize = ()=> initialized;\n})();\n\n(()=>{\n  let rule  = Kensho.rule;\n\n  /**\n   * @param {String}  val\n   * @param {Object}  [param={}]\n   * @param {Boolean} [param.trim=false]\n   */\n  Kensho.rule.add('required', function(val, param = {}){\n    let trimFlg = param.trim === true ? true : false;\n\n    if(trimFlg) val = val.trim();\n\n    return val ? true : false;\n  });\n\n})();\n\n(()=>{\n  let rule  = Kensho.rule;\n\n  /**\n   * @param {String} val\n   * @param {Object} [param={}]\n   */\n  rule.add('fullsize', function(val, param = {}){\n    let result = true;\n\n    for(let i = 0, l = val.length; i < l; i++){\n      if(!Kensho.plugin.is2byte(val[i])){\n        result = false;\n        break;\n      };\n    }\n    return result;\n  });\n\n})();\n\n(()=>{\n  let rule  = Kensho.rule;\n\n  /**\n   * @param {String} val\n   * @param {Object} [param={}]\n   */\n  rule.add('halfsize', function(val, param = {}){\n    let result = true;\n\n    for(let i = 0, l = val.length; i < l; i++){\n      if(!Kensho.plugin.is1byte(val[i])){\n        result = false;\n        break;\n      };\n    }\n    return result;\n  });\n\n})();\n\n(()=>{\n  let rule  = Kensho.rule;\n\n  /**\n   * @param {String}  val\n   * @param {Object}  [param={}]\n   * @param {Boolean} [param.allow2byte=false]\n   * @param {Boolean} [param.trim=false]\n   */\n  rule.add('number', function(val, param = {}){\n    let allow2byteFlg = param.allow2byte === true ? true : false;\n    let trimFlg       = param.trim       === true ? true : false;\n\n    if(allow2byteFlg) val = Kensho.plugin.full2half(val);\n    if(trimFlg) val = val.trim();\n\n    if(!/^[0-9]*$/.test(val)) return false;\n    return true;\n  });\n\n})();\n\n(()=>{\n  let rule  = Kensho.rule;\n\n  /**\n   * @param {String}  val\n   * @param {Object}  [param={}]\n   * @param {Boolean} [param.allow2byte=false]\n   * @param {Number}  [param.maxAge=125]\n   * @param {Boolean} [param.trim=false]\n   */\n  rule.add('age', function(val, param = {}){\n    let maxAge        = param.maxAage             ? param.maxAage : 125;\n    let allow2byteFlg = param.allow2byte === true ? true : false;\n    let trimFlg       = param.trim       === true ? true : false;\n\n    if(allow2byteFlg) val = Kensho.plugin.full2half(val);\n    if(trimFlg) val = val.trim();\n\n    if(!/^[0-9]{1,3}$/.test(val)) return false;          // ex. a1,1234, -5\n    if(val.length !== 1 && /^0/.test(val)) return false; // first number is 0\n    if(val > maxAge) return false;                       // limit\n    return true;\n  }, ['number']);\n\n})();\n\n(()=>{\n  let rule  = Kensho.rule;\n\n  /**\n   * @param {String} val\n   * @param {Object} [param={}]\n   */\n  rule.add('email', function(val, param = {}){\n    // https://stackoverflow.com/questions/46155/how-to-validate-email-address-in-javascript\n    let re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(val);\n  }, ['halfsize']);\n\n})();\n\n(()=>{\n  let rule  = Kensho.rule;\n\n  /**\n   * @param {String}   val\n   * @param {Object}   param\n   * @param {String[]} param.list\n   */\n  rule.add('blacklist', function(val, param){\n    let result = true;\n    if(!param.list) return result;\n\n    for(let i = 0, l = param.list.length; i < l; i++){\n      if(val === param.list[i]){\n        result = false;\n        break;\n      }\n    }\n    return result;\n  });\n\n})();\n\n(()=>{\n  let rule  = Kensho.rule;\n\n  /**\n   * @param {String}   val\n   * @param {Object}   param\n   * @param {String[]} param.list\n   */\n  rule.add('whitelist', function(val, param){\n    let result = false;\n    if(!param.list) return result;\n\n    for(let i = 0, l = param.list.length; i < l; i++){\n      if(val === param.list[i]){\n        result = true;\n        break;\n      }\n    }\n    return result;\n  });\n\n})();\n\n(()=>{\n  let rule  = Kensho.rule;\n\n  /**\n   * @param {String}   val\n   * @param {Object}   [param]\n   * @param {Number}   [param.min]\n   * @param {Number}   [param.max]\n   * @param {Boolean}  [param.trim=true]\n   */\n  rule.add('range', function(val, param = {}){\n    let result  = true;\n    let trimFlg = param.trim === true ? true : false;\n    if(trimFlg) val = val.trim();\n\n    if(param.min === undefined && param.max === undefined) return result;\n\n    if(param.min === undefined && typeof param.max === 'number'){\n      if(val.length > param.max) result = false;\n    }\n    if(typeof param.min === 'number' && param.max === undefined){\n      if(val.length < param.min) result = false;\n    }\n    if(param.min !== undefined && param.max !== undefined){\n      if(val.length < param.min || val.length > param.max) result = false;\n    }\n    return result;\n  });\n\n})();\n\n(()=>{\n  let rule  = Kensho.rule;\n\n  /**\n   * @param {String}       val\n   * @param {String|HTML}  param\n   */\n  rule.add('match', function(val, param){\n    param = typeof param === 'string' ? document.querySelector(param) : param;\n    return param.value === val;\n  });\n\n})();\n\n(()=>{\n\n  let maps = {};\n  maps = Object.assign(maps, {\n    '０' : '0', '１' : '1', '２' : '2', '３' : '3', '４' : '4',\n    '５' : '5', '６' : '6', '７' : '7', '８' : '8', '９' : '9'\n  });\n  maps = Object.assign(maps, {\n    'ａ' : 'a', 'ｂ' : 'b', 'ｃ' : 'c', 'ｄ' : 'd', 'ｅ' : 'e',\n    'ｆ' : 'f', 'ｇ' : 'g', 'ｈ' : 'h', 'ｉ' : 'i', 'ｊ' : 'j',\n    'ｋ' : 'k', 'ｌ' : 'l', 'ｍ' : 'm', 'ｎ' : 'n', 'ｏ' : 'o',\n    'ｐ' : 'p', 'ｑ' : 'q', 'ｒ' : 'r', 'ｓ' : 's', 'ｔ' : 't',\n    'ｕ' : 'u', 'ｖ' : 'v', 'ｗ' : 'w', 'ｘ' : 'x', 'ｙ' : 'y',\n    'ｚ' : 'z'\n  });\n  maps = Object.assign(maps, {\n    'Ａ' : 'A', 'Ｂ' : 'B', 'Ｃ' : 'C', 'Ｄ' : 'D', 'Ｅ' : 'E',\n    'Ｆ' : 'F', 'Ｇ' : 'G', 'Ｈ' : 'H', 'Ｉ' : 'I', 'Ｊ' : 'J',\n    'Ｋ' : 'K', 'Ｌ' : 'L', 'Ｍ' : 'M', 'Ｎ' : 'N', 'Ｏ' : 'O',\n    'Ｐ' : 'P', 'Ｑ' : 'Q', 'Ｒ' : 'R', 'Ｓ' : 'S', 'Ｔ' : 'T',\n    'Ｕ' : 'U', 'Ｖ' : 'V', 'Ｗ' : 'W', 'Ｘ' : 'X', 'Ｙ' : 'Y',\n    'Ｚ' : 'Z'\n  });\n  maps = Object.assign(maps, {\n    '－' : '-', '（' : '(', '）' : ')', '＿' : '_', '／' : '/',\n    '＋' : '+', '：' : ':', '；' : ';', '］' : ']', '［' : '[',\n    '＠' : '@', '！' : '!', '＜' : '<', '＞' : '>', '？' : '?',\n    '｛' : '{', '｝' : '}', '＊' : '*', '”' : '\"', '’' : \"'\",\n    '〜' : '~', '＾' : '^', '￥' : '¥', '｜' : '|', '＆' : '&',\n    '％' : '%', '＃' : '#', '＄' : '$', '　' : ' ', '＝' : '='\n  });\n  let full2half = function(val){\n    let result = '';\n    val.split('').forEach((s)=>{\n      s = maps[s] ? maps[s] : s;\n      result += s;\n    });\n    return result;\n  }\n  full2half.addMap = (userMap)=>{\n    maps = Object.assign(maps, userMap);\n  }\n\n  Kensho.plugin.add('full2half', full2half);\n})();\n\n(()=>{\n\n  isNbyte = function(half){\n    return function(val){\n      let code = val.charCodeAt(0);\n      let f    = (code >= 0x0 && code < 0x81) || (code == 0xf8f0) || (code >= 0xff61 && code < 0xffa0) || (code >= 0xf8f1 && code < 0xf8f4);\n      return !(f ^ half);\n    }\n  }\n\n  Kensho.plugin.add('is1byte', isNbyte(true));\n\n  Kensho.plugin.add('is2byte', isNbyte(false));\n\n})();\n\n// NodeJS\nif(typeof process !== \"undefined\" && typeof require !== \"undefined\"){\n  module.exports = Kensho;\n}\n// Browser\nelse{\n  window.Kensho = Kensho;\n}\n"]}