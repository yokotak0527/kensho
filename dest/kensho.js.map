{"version":3,"sources":["kensho.js"],"names":["Kensho","formElement","isInitialize","init","instanceList","undefined","push","document","querySelector","rule","plugin","Object","create","classPlugin","hook","Hook","_","Map","set","defineProperty","enumerable","get","inputs","length","key","_list","class","cb","callback","param","call","instance","classList","add","action","inputElement","errorElement","event","querySelectorAll","Array","isArray","name","getAttribute","tagName","toLowerCase","type","_rule","errorMessage","unit","inputTagName","error","filter","forEach","i","input","validate","addEventListener","applyRules","verbose","config","value","innerHTML","result","check","_c","errorMessageWrapper","val","_k","map","_get","self","actions","filters","hookName","callbackName","priority","hooks","newHook","splice","remove","typeName","thisObject","listener","data","ruleBook","dependency","scope","console","initialized","trim","arrow2byte","log","byte_2to1","addMap","_userMaps"],"mappings":"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","file":"kensho.js","sourcesContent":["/**\n * @class Kensho\n * @namespace Kensho\n */\nclass Kensho{\n  /**\n   *\n   * \n   * @constructs Kensho\n   * @param  {string|HTMLElement} formElement\n   */\n  constructor(formElement){\n    if(!Kensho.isInitialize()) Kensho.init();\n\n    if(Kensho.instanceList === undefined) Kensho.instanceList = [this];\n    else Kensho.instanceList.push(this);\n\n    formElement = typeof formElement === 'string' ? document.querySelector(formElement) : formElement;\n\n    /**\n     * @member {HTMLElement} formElement\n     * @memberof Kensho\n     * @instance\n     */\n    this.formElement = formElement;\n    /**\n     * @member {object} rule\n     * @memberof Kensho\n     * @instance\n     */\n    this.rule = Kensho.rule;\n    /**\n     * @member {object} plugin\n     * @memberof Kensho\n     * @instance\n     */\n    this.plugin = Object.create(null);\n    /**\n     * @member {object} classPlugin\n     * @memberof Kensho\n     * @instance\n     */\n    this.classPlugin = Kensho.plugin;\n    /**\n     * @member {hook} hook\n     * @memberof Kensho\n     * @instance\n     */\n    this.hook = new Kensho.Hook();\n\n    // soft private\n    this._ = new Map();\n    this._.set(this, Object.create(null));\n    Object.defineProperty(this, '_', { enumerable : false });\n    let _ = this._.get(this);\n    _.inputs = {};\n\n    // plugin setup\n    if(Kensho.instanceList.length === 1){\n      for(let key in Kensho.plugin._list.class){\n        let cb    = Kensho.plugin._list.class[key].callback;\n        let param = Kensho.plugin._list.class[key].param;\n        Kensho.plugin[key] = cb.call(Kensho, param);\n      }\n    };\n    for(let key in Kensho.plugin._list.instance){\n      let cb    = Kensho.plugin._list.instance[key].callback;\n      let param = Kensho.plugin._list.instance[key].param;\n      this.plugin[key] = cb.call(this, param);\n    }\n\n    formElement.classList.add('kensho-form');\n\n    this.hook.action('init', {}, this);\n  }\n  /**\n   * add validation field.\n   *\n   * <div class=\"note\">\n   *   <p>\n   *     argument event fundamentally sets JavaScript event.type name.<br>\n   *     but, it supports especialy names, as follows.\n   *   </p>\n   *   <dl>\n   *     <dt>init</dt>\n   *     <dd>when in add() method</dd>\n   *   </dl>\n   * </div>\n   *\n   * @method  Kensho#add\n   * @version 0.0.1\n   * \n   * @param {string|HTMLElement|array<HTMLElement>} inputElement form input HTML element or its CSS selector string.\n   * @param {string|HTMLElement}                    errorElement wrapper element of output error message or its CSS selector string.\n   * @param {object}                                rule         the key is rule name. The value is error message.\n   * @param {event}                                 event        trigger events\n   * @return {kensho}                                            instance\n   */\n  add(inputElement, errorElement, rule, event){\n\n    // for example, name attribute of radio buttons are seted same value.\n    // querySelector return matched first HTML element and 2nd and subsequent matched element is ignored.\n    // so, InputElement not use querySelector but use querySelectorAll.\n    // as a result of it, inputElement type is a array.\n    inputElement = typeof inputElement === 'string' ? document.querySelectorAll(inputElement) : Array.isArray(inputElement) ? inputElement : [inputElement];\n    errorElement = typeof errorElement === 'string' ? document.querySelector(errorElement) : errorElement;\n    event        = typeof event        === 'string' ? [event] : event;\n\n    let _       = this._.get(this);\n    let name    = inputElement[0].getAttribute('name');\n    let tagName = inputElement[0].tagName.toLowerCase();\n    let type    = null;\n    if(tagName === 'input') type = inputElement[0].getAttribute('type');\n    else type = tagName;\n    if(type !== 'radio') inputElement = inputElement[0];\n\n    let _rule = {};\n    for(let key in rule){\n      if(typeof rule[key] === 'string'){\n        _rule[key] = {\n          param        : {},\n          errorMessage : rule[key]\n        };\n      }else{\n        _rule[key] = rule[key];\n      }\n    }\n    rule = _rule;\n\n    let unit = {\n      name         : name,\n      inputElement : inputElement,\n      errorElement : errorElement,\n      inputTagName : tagName,\n      type         : type,\n      rule         : rule,\n      error        : []\n    }\n\n    unit = this.hook.filter('validate-filed', unit, this);\n    _.inputs[name] = unit;\n\n    // Add event handler\n    event.forEach((name, i)=>{\n      if(name === 'init'){\n        if(unit.type === 'radio'){\n          unit.inputElement.forEach((input, i)=>{\n            this.validate(unit.name);\n          });\n        }else{\n          this.validate(unit.name);\n        }\n      }else{\n        if(unit.type === 'radio'){\n          unit.inputElement.forEach((input, i)=>{\n            input.addEventListener(name, ()=>{\n              this.validate(unit.name);\n            });\n          });\n        }else{\n          unit.inputElement.addEventListener(name, ()=>{\n            this.validate(unit.name);\n          });\n        }\n      }\n    });\n\n    this.hook.action('set-validate-field', {unit : unit}, this);\n    return this;\n  }\n  /**\n   * [validate description]\n   * \n   * @method  Kensho#validate\n   * @version 0.0.1\n   * \n   * @param  {String} name       -\n   * @param  {Object} [param={}] -\n   * @return {kensho} instance\n   */\n  validate(name, param = {}){\n    let _          = this._.get(this);\n    let unit       = _.inputs[name];\n    let applyRules = unit.rule;\n    let verbose    = Kensho.config.get('verbose');\n\n    if(unit.type === 'text'){\n      value = unit.inputElement.value;\n    }else{\n      value = this.formElement[unit.name] ? this.formElement[unit.name] : value;\n    }\n    if(unit.type === 'textarea'){\n      // console.log();\n    }\n    \n    unit.errorElement.innerHTML = '';\n    unit.error                  = [];\n\n    value = this.hook.filter('pre-validate-value', value, this);\n\n    for(let key in applyRules){\n      let result = Kensho.validate(key, value, applyRules[key].param);\n    }\n    return this;\n  }\n  /**\n   * validate\n   * \n   * @method  Kensho.validate\n   * @version 0.0.1\n   * \n   * @param  {String} name       validation rule name.\n   * @param  {*}      value      input value.\n   * @param  {Object} [param={}] in order to pass to a rule function.\n   * @return {Boolean}           value is valid or invalid\n   */\n  static validate(name, value, param = {}){\n    let rule = this.rule.get(name);\n    return rule.check(value, param);\n  }\n}\n\n(()=>{\n  let _c = {};\n  _c.errorMessageWrapper = 'li';\n  _c.verbose             = true;\n\n  /**\n   * Kensho configuration.\n   * \n   * @namespace Kensho.config\n   */\n  Kensho.config = {\n    /**\n    * get configuration value\n    *\n    * @method Kensho.config.get\n    * \n    * @param {String} key configuration key name\n    * @return {*}         key value\n    */\n    get(key){\n      return _c[key];\n    },\n    /**\n     * Set configuration value\n     * \n     * @param {(String|Object)} key configuration key name. when you pass an object, you can set a number of configurations in bluk.\n     * @return {void}\n     */\n    set(key, val){\n      if(typeof key === 'object') for(let _k in key) this.set(_k, key[_k]);\n      _c[key] = val;\n    }\n  }\n  \n})();\n\n(()=>{\n  let map  = new Map();\n  let _get = self => map.get(self);\n\n  class Hook{\n    /**\n     * @constructs Kensho.Hook\n     */\n    constructor(){\n      // soft private\n      map.set(this, Object.create(null));\n      let _ = _get(this);\n      _.actions = {};\n      _.filters = {};\n    }\n    /**\n     * add action/filter hook\n     * \n     * @version 0.0.1\n     * \n     * @param {string} type         - this hook type name. \"action\" or \"filter\"\n     * @param {string} hookName     - the target hook name\n     * @param {string} callbackName - callback name\n     * @param {string} callback     - \n     * @param {number} [priority]   - a priority of to do callback\n     * @return {hook}               - instance\n     */\n    add(type, hookName, callbackName, callback, priority = false){\n      let _ = _get(this);\n      let hooks;\n      switch(type){\n        case 'action' :\n          hooks = _.actions;\n          break;\n        case 'filter' :\n          hooks = _.filters;\n          break;\n      }\n      if(!hooks[hookName]) hooks[hookName] = [];\n      hooks = hooks[hookName];\n      \n      let newHook = {\n        name     : callbackName,\n        callback : callback\n      }\n      if(priority === false){\n        hooks.push(newHook);\n      }else{\n        hooks.splice(priority, 0, newHook);\n      }\n      return this;\n    }\n    /**\n     * remove action/filter hook\n     * \n     * @version 0.0.1\n     * \n     * @param  {string} type         - this hook type name. \"action\" or \"filter\"\n     * @param  {string} hookName     - the target hook name\n     * @param  {string} callbackName - callback name\n     * @return {hook}                - instance\n     */\n    remove(type, hookName, callbackName){\n      let _ = _get(this);\n      let hooks;\n      let typeName;\n      switch(type){\n        case 'action' :\n          typeName = 'actions';\n          hooks = _.actions;\n          break;\n        case 'filter' :\n          typeName = 'filters';\n          break;\n      }\n      hooks = _[typeName][hookName];\n      if(hooks){\n        hooks = hooks.filter((hook)=>{\n          return hook.name !== callbackName;\n        });\n        _[typeName][hookName] = hooks;\n      }\n      return this;\n    }\n    /**\n     * do action hook\n     * \n     * @version 0.0.1\n     * \n     * @param  {string} name       - hook name\n     * @param  {object} [param={}] - in order to pass to the callbacks\n     * @param  {*}      thisObject - to bind \"this\" object. default is Hook instance\n     * @return {void}\n     */\n    action(name, param = {}, thisObject = this){\n      let _       = _get(this);\n      let actions = _.actions[name];\n      if(actions) actions.forEach(listener => listener.callback.call(thisObject, param));\n    }\n    /**\n     * apply filter hook\n     * \n     * @version 0.0.1\n     * \n     * @param  {string} name       - hook name\n     * @param  {*}      data       - data to be filterd\n     * @param  {*}      thisObject - to bind \"this\" object. default is Hook instance\n     * @return {*}                 - a filtered data\n     */\n    filter(name, data, thisObject = this){\n      let _       = _get(this);\n      let filters = _.filters[name];\n      if(filters){\n        filters.forEach((listener)=>{\n          data = listener.callback.call(thisObject, data);\n        });\n      };\n      return data;\n    }\n  }\n  Kensho.Hook = Hook;\n})();\n\n(()=>{\n  /**\n   * validation rules\n   * \n   * @namespace Kensho.rule\n   */\n  let rule = Object.create(null);\n  \n  let ruleBook = {};\n\n  /**\n   * add validation rule\n   *\n   * @method  Kensho.rule.add\n   * @version 0.0.1\n   *\n   * @param  {String}            name       validation rule name\n   * @param  {Function}          callback   rule method\n   * @param  {(String|String[])} dependency other rule that the rule depend on\n   * @return {void}\n   */\n  rule.add = function(name, callback, dependency = []){\n    dependency = typeof dependency === 'string' ? [dependency] : dependency;\n    ruleBook[name] = {\n      check      : callback,\n      dependency : dependency\n    };\n  };\n  /**\n   * remove validation rule.\n   * \n   * @method  Kensho.rule.remove\n   * @version 0.0.1\n   *\n   * @param  {String} name validation rule name\n   * @return {Object}      this\n   */\n  rule.remove = function(name){\n    delete ruleBook[name];\n    return this;\n  };\n  /**\n   * return validation rule.\n   *\n   * @method  Kensho.rule.get\n   * @version 0.0.1\n   * \n   * @param  {String} name validation rule name\n   * @return {Object}\n   */\n  rule.get = (name)=> ruleBook[name];\n\n  Kensho.rule = rule;\n})();\n\n(()=>{\n  /**\n   * @namespace Kensho.plugin\n   */\n  let plugin = Object.create(null);\n  let _list  = {\n    'class'    : {},\n    'instance' : {}\n  };\n  /**\n   * add plugin\n   *\n   * <div class=\"nonte\">\n   *   <table>\n   *     <thead>\n   *       <tr>\n   *         <td></td><th>class</th><th>instance</th>\n   *       </tr>\n   *     </thead>\n   *     <tbody>\n   *       <tr>\n   *         <th>this</th>\n   *         <td>Kensho</td>\n   *         <td>instance</td>\n   *       </tr><tr>\n   *         <th>init. function</th>\n   *         <td>once. when create first instance</td>\n   *         <td>every time create instance</td>\n   *       </tr><tr>\n   *         <th>to refer by instance</th>\n   *         <td>this.classPlugin or Kensho.plugin</td>\n   *         <td>this.plugin </td>\n   *       </tr>\n   *     </tbody>\n   *   </table>\n   * </div>\n   * \n   * @method  Kensho.plugin.add\n   * @version 0.0.1\n   *\n   * @param  {String}   name            plug-in name.\n   * @param  {Function} callback        plug-in initialize function.\n   * @param  {Object}   [param={}]      paramerters in order to pass to the initialize function.\n   * @param  {String}   [scope='class'] plugin type 'class' or 'instance'\n   * @return {void}\n   */\n  plugin.add = function(name, callback, param = {}, scope = 'class'){\n    if(_list['class'][name] || _list['instance'][name]){\n      console.error(`plug-in ${name} is conflict`);\n      return false;\n    }\n    if(Kensho.isInitialize()){\n      console.error(`plug-in is must be added before create instance.`);\n      return false;\n    }\n    _list[scope][name] = {\n      param    : param,\n      scope    : scope,\n      callback : callback\n    };\n  }\n  plugin._list = _list;\n\n  Kensho.plugin = plugin;\n})();\n\n(()=>{\n  let initialized = false;\n  /**\n   * initialization\n   * \n   * @method  Kensho.init\n   * @version 0.0.1\n   * \n   * @return {void}\n   */\n  Kensho.init = ()=>{\n    initialized = true;\n  };\n  /**\n   * return true or false whether class initialization was processed.\n   * \n   * @method  Kensho.isInitialize\n   * @version 0.0.1\n   * \n   * @return {Boolean}\n   */\n  Kensho.isInitialize = ()=> initialized;\n})();\n\n(()=>{\n  let rule  = Kensho.rule;\n\n  /**\n   * required\n   */\n  rule.add('required', function(val, param){\n    return !val.trim() ? false : true;\n  });\n\n  /**\n   * @param {object} param\n   * @param {boolean} param.arrow2byte - \n   */\n  rule.add('number', function(val, param = {}){\n    let arrow2byte = param['arrow2byte'] ? param['arrow2byte'] : false;\n    console.log(this);\n    return true;\n  });\n\n})();\n\n(()=>{\n\n  /**\n   *\n   * \n   */\n  // Kensho.plugin.add('2to1', function(){\n  //   return function(){\n  //   }\n  // }, {}, 'class');\n\n\n  // Kensho.plugin.add('test1', function(){\n  //   return function(){}\n  // }, {}, 'class');\n\n  // Kensho.plugin.add('test2', function(){\n  //   console.log(this);\n  //   this.hook.add('action', 'init', 'test1', function(){\n  //     console.log(\"init\");\n  //   });\n  //   // let obj = {\n  //   //   a : 2\n  //   // }\n  //   // return function(){\n  //   //   \n  //   // }\n  // }, {}, 'instance');\n  // /**\n  //  *\n  //  * transform 2byte charactor to 1byte charactor.\n  //  * \n  //  * @param  {string} val -\n  //  * @return {string}\n  //  */\n\n  let byte_2to1 = function(val){\n  }\n  byte_2to1.addMap = (map)=>{\n    this._userMaps.push(map);\n  }\n\n  Kensho.plugin.add('2to1', function(){\n    return byte_2to1\n  }, {}, 'class');\n\n  //   let map = {};\n  //   map = Object.assign(map, {\n  //     '０' : '0', '１' : '1', '２' : '2', '３' : '3', '４' : '4',\n  //     '５' : '5', '６' : '6', '７' : '7', '８' : '8', '９' : '9'\n  //   });\n  //   map = Object.assign(map, {\n  //     'ａ' : 'a', 'ｂ' : 'b', 'ｃ' : 'c', 'ｄ' : 'd', 'ｅ' : 'e',\n  //     'ｆ' : 'f', 'ｇ' : 'g', 'ｈ' : 'h', 'ｉ' : 'i', 'ｊ' : 'j',\n  //     'ｋ' : 'k', 'ｌ' : 'l', 'ｍ' : 'm', 'ｎ' : 'n', 'ｏ' : 'o',\n  //     'ｐ' : 'p', 'ｑ' : 'q', 'ｒ' : 'r', 'ｓ' : 's', 'ｔ' : 't',\n  //     'ｕ' : 'u', 'ｖ' : 'v', 'ｗ' : 'w', 'ｘ' : 'x', 'ｙ' : 'y',\n  //     'ｚ' : 'z'\n  //   });\n  //   map = Object.assign(map, {\n  //     'Ａ' : 'A', 'Ｂ' : 'B', 'Ｃ' : 'C', 'Ｄ' : 'D', 'Ｅ' : 'E',\n  //     'Ｆ' : 'F', 'Ｇ' : 'G', 'Ｈ' : 'H', 'Ｉ' : 'I', 'Ｊ' : 'J',\n  //     'Ｋ' : 'K', 'Ｌ' : 'L', 'Ｍ' : 'M', 'Ｎ' : 'N', 'Ｏ' : 'O',\n  //     'Ｐ' : 'P', 'Ｑ' : 'Q', 'Ｒ' : 'R', 'Ｓ' : 'S', 'Ｔ' : 'T',\n  //     'Ｕ' : 'U', 'Ｖ' : 'V', 'Ｗ' : 'W', 'Ｘ' : 'X', 'Ｙ' : 'Y',\n  //     'Ｚ' : 'Z'\n  //   });\n  //   map = Object.assign(map, {\n  //     '－' : '-', '（' : '(', '）' : ')', '＿' : '_', '／' : '/',\n  //     '＋' : '+', '：' : ':', '；' : ';', '］' : ']', '［' : '[',\n  //     '＠' : '@', '！' : '!', '＜' : '<', '＞' : '>', '？' : '?',\n  //     '｛' : '{', '｝' : '}', '＊' : '*', '”' : '\"', '’' : \"'\",\n  //     '〜' : '~', '＾' : '^', '￥' : '¥', '｜' : '|', '＆' : '&',\n  //     '％' : '%', '＃' : '#', '＄' : '$', '　' : ' ', '＝' : '='\n  //   });\n  //   let result = '';\n  //   val.split('').forEach((s)=>{\n  //     s = map[s] ? map[s] : s;\n  //     result += s;\n  //   });\n  //   return result;\n  // }\n  // plugin.byte_2to1._userMaps = [];\n  // /**\n  //  *\n  //  * add user 2byte to 1byte charactors map.\n  //  * \n  //  * @param {object} map - The key is 2byte charactor. The value is 1byte charactor.\n  //  */\n  // plugin.byte_2to1.addMap = (map)=>{\n  //   this._userMaps.push(map);\n  // }\n  // \n  // let plugin = Kensho.plugin;\n})();\n"]}